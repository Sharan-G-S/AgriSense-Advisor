(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3219],{17757:function(e,n,t){Promise.resolve().then(t.bind(t,47912)),Promise.resolve().then(t.t.bind(t,70062,23)),Promise.resolve().then(t.t.bind(t,85993,23)),Promise.resolve().then(t.t.bind(t,73348,23))},47912:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return EditorSpace}});var a=t(95802),s=t(77948),o=t(83093);let i=(0,s.eI)({publicApiKey:"pk_prod_-gFkcRH8VxeTZKnDsb3nQAYhX54PEs16p4U_FATYPUE10BD9B2kRwEenRYM1aLl8",async resolveUsers(e){let{userIds:n}=e;return[]},async resolveMentionSuggestions(e){let{text:n}=e;return[]},async resolveRoomsInfo(e){let{roomIds:n}=e;return[]}}),{suspense:{RoomProvider:r,useRoom:d,useMyPresence:l,useUpdateMyPresence:c,useSelf:h,useOthers:u,useOthersMapped:p,useOthersListener:m,useOthersConnectionIds:f,useOther:x,useBroadcastEvent:w,useEventListener:g,useErrorListener:y,useStorage:j,useObject:v,useMap:b,useList:C,useBatch:k,useHistory:_,useUndo:N,useRedo:S,useCanUndo:E,useCanRedo:R,useMutation:T,useStatus:$,useLostConnectionListener:I,useThreads:A,useCreateThread:O,useEditThreadMetadata:H,useCreateComment:L,useEditComment:U,useDeleteComment:z,useAddReaction:P,useRemoveReaction:F,useThreadSubscription:M,useMarkThreadAsRead:Y,useRoomNotificationSettings:D,useUpdateRoomNotificationSettings:K}}=(0,o.m1)(i),{suspense:{LiveblocksProvider:Z,useMarkInboxNotificationAsRead:q,useMarkAllInboxNotificationsAsRead:B,useInboxNotifications:G,useUnreadInboxNotificationsCount:J,useUser:Q,useRoomInfo:V}}=(0,o.pf)(i);var W=t(13869),X=t(11472),ee=t(82038),en=t(89037),et=t(91132);function Cursors(e){let{yProvider:n,name:t,color:s}=e;h(e=>e.info);let o=w(),[i,r]=(0,ee.useState)([]);(0,ee.useEffect)(()=>{function setUsers(){r([...n.awareness.getStates()])}return n.awareness.setLocalStateField("user",{name:t,color:s,picture:""}),o({type:"current-lang"}),n.awareness.on("change",setUsers),setUsers(),()=>{n.awareness.off("change",setUsers)}},[n]);let d=(0,ee.useMemo)(()=>{let e="";for(let[n,t]of i)(null==t?void 0:t.user)&&(e+="\n          .yRemoteSelection-".concat(n,", \n          .yRemoteSelectionHead-").concat(n,"  {\n            --user-color: ").concat(t.user.color||"orangered",";\n          }\n          \n          .yRemoteSelectionHead-").concat(n,'::after {\n            content: "').concat(t.user.name,'";\n          }\n        '));return{__html:e}},[i]);return(0,a.jsx)("style",{dangerouslySetInnerHTML:d})}var ea=t(2750),es=t(61501),eo=t(90077),ei=t(93192),er=t(33089),ed=t(81936),el=t(47171),ec=t(28539),eh=t(95849),eu=t(83320),ep=t(24189),em=t(62194),ef=t(13988);function CollaborativeEditor(e){let[n,t]=(0,ee.useState)(),s=d(),[o,i]=(0,ee.useState)(),[r,l]=(0,ee.useState)(!1),[c,h]=(0,ee.useState)(""),[u,p]=(0,ee.useState)(""),[m,f]=(0,ee.useState)(!1),[x,y]=(0,ee.useState)(!1),[j,v]=(0,ee.useState)(""),[b,C]=(0,ee.useState)(!1),[k,_]=(0,ee.useState)(""),[N,S]=(0,ee.useState)(!1),E=window.location.href.includes("code="),R=E?decodeURIComponent(window.location.href.split("code=")[1]):"";function handleClickRename(){let e={id:window.location.href.split("id=")[1]};e.createdAt=new Date,e.title=k,(0,ef.g_)(e),C(!1),el.toast.success("Editor Title Updated",{style:{borderRadius:"10px",background:"#333",color:"#fff",fontSize:"14px"},iconTheme:{primary:"white",secondary:"black"}})}let[T,$]=(0,ee.useState)(!1);async function runCode(){f(!0),y(!0);try{var e=new Headers;e.append("Content-Type","application/json");var n=JSON.stringify({code:u,language:c});let t=await fetch("/api/run",{method:"POST",headers:e,body:n,redirect:"follow"}),a=null==(t=await t.json())?void 0:t.stdout;return y(!1),v(a),a}catch(e){return console.log("error run"),y(!1),null}}let I=w();g(e=>{let{event:n,user:t,connectionId:a}=e;"select-lang"==n.type?h(n.lang):"current-lang"==n.type&&I({type:"select-lang",lang:c})}),(0,ee.useEffect)(()=>{let e,t,a;if(n){t=new W.QW;let o=t.getText("monaco");i(e=new X.Z(s,t)),a=new et.K(o,n.getModel(),new Set([n]),e.awareness)}return()=>{null==t||t.destroy(),null==e||e.destroy(),null==a||a.destroy()}},[n,s]);let A=(0,ec.useSearchParams)(),O=(0,ec.useRouter)();(0,ee.useEffect)(()=>{if(A.get("isnew")){S(!0);let e=A.get("id");e&&O.push("/editor?id=".concat(e))}});let H=(0,ee.useCallback)(e=>{t(e)},[]),L=A.get("lang");return(0,ee.useEffect)(()=>{L&&h(L)},[L]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"p-1 flex",children:[(0,a.jsxs)("div",{style:{width:"".concat(T?"50":"100","%"),maxHeight:"98vh",overflow:"hidden"},children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(es.z,{variant:"ghost",className:"ml-2",onClick:()=>{window.location.href="/"},children:[(0,a.jsx)(eo.RYk,{className:"mr-4"}),(0,a.jsx)("span",{className:"hidden sm:block",children:"Home"})]}),(0,a.jsxs)(ea.J2,{open:r,onOpenChange:l,children:[(0,a.jsx)(ea.xo,{asChild:!0,children:(0,a.jsxs)(es.z,{variant:"ghost",role:"combobox",className:"md:max-w-[200px]",children:[c||"Language",(0,a.jsx)(eo.jnn,{className:"ml-2 h-4 w-fit shrink-0 opacity-50"})]})}),(0,a.jsx)(ea.yk,{className:"w-[300px] p-0",children:(0,a.jsxs)(ei.mY,{style:{maxHeight:"35vh"},children:[(0,a.jsx)(ei.sZ,{placeholder:"Search Language..."}),(0,a.jsx)(ei.rb,{children:"No Language found."}),(0,a.jsx)(ei.fu,{heading:"Language",style:{overflow:"auto"},children:er.M.map((e,n)=>(0,a.jsxs)(ei.di,{onSelect:()=>{h(e),I({type:"select-lang",lang:e}),l(!1)},children:[e,(0,a.jsx)(eo.nQG,{className:(0,ed.cn)("ml-auto h-4 w-4",c===e?"opacity-100":"opacity-0")})]},n))})]})})]}),(0,a.jsxs)(es.z,{variant:"ghost",className:"ml-2",onClick:()=>{navigator.clipboard.writeText(window.location.href),el.toast.success("Copied Link to Editor",{style:{borderRadius:"10px",background:"#333",color:"#fff",fontSize:"14px"},iconTheme:{primary:"white",secondary:"black"}})},children:[(0,a.jsx)(eo.eA8,{className:"mr-2"}),(0,a.jsx)("span",{className:"hidden sm:block",children:"Share Editor"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Share"})]}),(0,a.jsxs)(es.z,{variant:"ghost",className:"ml-2",onClick:()=>{C(!0)},children:[(0,a.jsx)(eo.oqE,{className:"mr-2"}),(0,a.jsx)("span",{className:"hidden sm:block",children:"Rename"})]}),(0,a.jsxs)(es.z,{variant:"ghost",className:"ml-2",onClick:runCode,children:[(0,a.jsx)(eo.o1U,{className:"mr-2"}),(0,a.jsx)("span",{className:"hidden sm:block",children:"Run"})]}),(0,a.jsxs)(es.z,{variant:"ghost",className:"ml-2  mobile-hide-item",onClick:()=>{$(!T)},children:[(0,a.jsx)(eo.mTE,{className:"mr-2"}),(0,a.jsxs)("span",{className:"hidden sm:block",children:[T?"Close":"Open"," AI Chat"]})]})]}),(0,a.jsx)(ep.Vq,{open:b,onOpenChange:C,children:(0,a.jsxs)(ep.cZ,{children:[(0,a.jsx)(ep.fK,{children:(0,a.jsx)(ep.$N,{children:"Edit Title"})}),(0,a.jsxs)("div",{className:"space-y-1 rounded-md p-4 text-sm",children:[(0,a.jsx)(em.I,{onKeyDown:e=>{"Enter"===e.key&&handleClickRename()},onChange:e=>{_(e.target.value)}}),(0,a.jsx)("div",{className:"text-muted-foreground"})]}),(0,a.jsx)(ep.cN,{className:"items-center",children:(0,a.jsx)(es.z,{onClick:async()=>{handleClickRename()},children:"Update"})})]})}),(0,a.jsx)(eh.yo,{open:m,onOpenChange:e=>f(e),children:(0,a.jsx)(eh.ue,{style:{overflow:"auto"},children:(0,a.jsxs)(eh.Tu,{children:[(0,a.jsx)(eh.bC,{children:"Output"}),(0,a.jsx)(eh.Ei,{children:x?(0,a.jsx)(el.LoaderIcon,{}):(0,a.jsx)("div",{children:c&&j&&j.length>0?(0,a.jsx)(a.Fragment,{children:j}):(0,a.jsx)(a.Fragment,{children:"No Output"})})})]})})}),o?(0,a.jsx)(Cursors,{name:e.name,color:e.color,yProvider:o}):null,(0,a.jsx)(en.ML,{onMount:e=>{E||H(e)},height:"100vh",width:"100hw",theme:"vs-light",language:c,defaultLanguage:"",defaultValue:E?R:"",options:{tabSize:2},onChange:e=>{e&&p(e)}})]}),(0,a.jsx)(eu.Chat,{context:u,selectedLang:c,multiple:!1,initialMessages:[],style:{flexDirection:"column",width:"".concat(T?"50":"0","%"),display:"".concat(T?"flex":"none"),maxHeight:"98vh",height:"98vh"}})]})})}var ex=t(91570);function EditorSpace(e){let{roomId:n,name:t,isNewEditor:s,color:i}=e;function saveNewEditor(e){fetch("/api/save-editor",{method:"post",body:JSON.stringify({id:e})})}let d=(0,ec.useSearchParams)(),l=(0,ec.useRouter)(),c=d.get("id");c||(c=(0,ex.x0)(),l.push("/editor?id=".concat(c).concat(s?"&isnew=true":"")),saveNewEditor(c));let h=c;return(0,a.jsx)(r,{id:c,initialPresence:{},children:(0,a.jsx)(o.EH,{fallback:"",children:()=>(0,a.jsx)(CollaborativeEditor,{roomId:h,name:t,color:i})})})}},33089:function(e,n,t){"use strict";t.d(n,{M:function(){return s},u:function(){return a}});let a=[{id:"9cb0e66a-9937-465d-a188-abc",name:"Comment Code",prompt:"Add documentation in the form of function doc string with example to the following code "},{id:"48d34082-72f3-4a1b-a14d-f15aca4f57a0",name:"Explain code",prompt:"As a software engineer, your role is to assist users in understanding their code and providing explanations for what each section or line does. The goal is to enhance the clarity and readability of the code by providing clear, concise, and informative explanations. It's important for you to focus solely on explaining the code without altering it in any way. Your explanations should be tailored to match the technical language and style preferred by the user, making the explanations as helpful as possible."},{id:"48d34082-72f3-4a1b-a14d-f15aca4f57a1",name:"Find Bugs",prompt:"There is a problem in this code. Give me a list of the bugs you find."},{id:"c47ddad6-77af-4bf1-9277-ffeeceabdcda",name:"Accelerate Code",prompt:"You are a world expert in making code run faster. You use any resource you can to do so.\n\nGiven some code, first, explain how the code works to me.\n\nNext, for each part of the code, identify how long it might take to run.\n\nAfter that, identify which parts are key candidates to speed up.\n\nThen, make a table with axes 'Impact' and 'Complexity'. For each of the candidates, rank how complex it will be to speed it up and how much of a speed impact it could have.\n\nAfter that, order the candidates by ranking.\n\nTake the top-ranked candidate and explain in more detail how to rewrite the code to be faster. Then, rewrite the actual code. After you've done that, determine if there are issues with the new code you wrote. If so, move on. Otherwise, rewrite the code again to fix them.\n\nNext, take the second-highest-ranked candidate and explain in more detail how to rewrite the code to be faster. Then, rewrite the actual code. After you've done that, determine if\nthere are issues with the new code you wrote. If so, move on. Otherwise, rewrite the code again to fix them.\n\nThen do the same for the third-highest-ranked candidate.\n\nFinally, rewrite the code in full with all of the speed improvements incorporated.\n</prompt_explanation>\n\nHere is the format you should respond in:\n<response_format>\n## Explanation:\n$explanation\n\n## Runtime Analysis: \n$runtime_analysis\n\n## Key Candidates for Speed Up:\n$candidates\n\n## Impact and Complexity Table:\n| Candidate | Impact | Complexity |\n| --------- | ------ | ---------- |\n$candidate_table\n\n## Candidates Ordered by Ranking:\n$ordered_candidates\n\n## Detailed Explanation and Code Rewrite for Top Candidate: \n# Explanation\n$top_candidate_explanation\n\n# Code Rewrite\n$top_candidate_code\n\n# Issues with New Code: *(include this section only if they exist)*\n$top_candidate_issues\n\n# Code Rewrite, Try 2: *(include this section only if issues exist)*\n$top_candidate_code_try2\n\n## Detailed Explanation and Code Rewrite for Second-Highest Candidate: \n# Explanation\n$second_candidate_explanation\n\n# Code Rewrite\n$second_candidate_code\n\n# Issues with New Code: *(include this section only if issues exist)*\n$second_candidate_issues\n\n# Code Rewrite, Try 2: *(include this section only if issues exist)*\n$second_candidate_code_try2\n\n## Detailed Explanation and Code Rewrite for Third-Highest Candidate: \n# Explanation\n$third_candidate_explanation\n\n# Code Rewrite\n$third_candidate_code\n\n# Issues with New Code: *(include this section only if issues exist)*\n$third_candidate_issues\n\n# Code Rewrite, Try 2: *(include this section only if issues exist)*\n$third_candidate_code_try2\n\n## Full Code Rewrite with Speed Improvements:\n$full_code_rewrite\n</response_format>\n---"},{id:"c47ddad6-77af-4bf1-9277-ffeeceabdcdz",name:"Translate Code",prompt:"You are a world expert at translating code."}],s=["html","css","python","javascript","java","cp","csharp","ruby","swift","go","typescript","php","shell","makefile","markdown","plaintext","vbscript","powershell","sql","r","matlab","fortran","ada"]}},function(e){e.O(0,[6545,3471,1401,667,1659,9922,4327,8522,9383,4795,2e3,544,5265,4123,5709,9498,2574,1371,7957,8661,5498,541,3858,7805,7114,1457,3320,6479,7454,1744],function(){return e(e.s=17757)}),_N_E=e.O()}]);